(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{190:function(n,s,t){"use strict";t.r(s);var a=t(0),e=Object(a.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"sql-分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-分类"}},[n._v("#")]),n._v(" sql 分类")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("DDL : 操作数据库、表")]),n._v(" "),t("ul",[t("li",[n._v("操作库  CRUD\n"),t("ul",[t("li",[t("p",[n._v("C create : 创建")]),n._v(" "),t("ul",[t("li",[n._v("创建数据库 并判断是否存在 且设置字符集\n"),t("ul",[t("li",[n._v("create database if not exists 库名 character set gbk;")])])])])]),n._v(" "),t("li",[t("p",[n._v("R retrieve : 查询")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("查询所有数据库")]),n._v(" "),t("ul",[t("li",[n._v("show databases;")])])]),n._v(" "),t("li",[t("p",[n._v("查询某个数据库")]),n._v(" "),t("ul",[t("li",[n._v("show create database 库名;")])])])])]),n._v(" "),t("li",[t("p",[n._v("U update : 修改")]),n._v(" "),t("ul",[t("li",[n._v("修改数据库字符集\n"),t("ul",[t("li",[n._v("alter database 库名 character set 字符集;")])])])])]),n._v(" "),t("li",[t("p",[n._v("D delete : 删除")]),n._v(" "),t("ul",[t("li",[n._v("删除数据库\n"),t("ul",[t("li",[n._v("drop database if exists 库名;")])])])])])])]),n._v(" "),t("li",[n._v("操作表\n"),t("ul",[t("li",[t("p",[n._v("C create : 创建")]),n._v(" "),t("ul",[t("li",[n._v("创建表\n"),t("ul",[t("li",[n._v("create table 表名(\n列名1 数据类型,\n列名2 数据类型,\n列名3 数据类型,\n.....\n列名n 数据类型\n);")]),n._v(" "),t("li",[n._v("最后一列不需要逗号")]),n._v(" "),t("li",[n._v("常用数据类型\n"),t("ol",[t("li",[n._v("int : 整数")]),n._v(" "),t("li",[n._v("double : 小数")]),n._v(" "),t("li",[n._v("date : 时间 yyyy-MM-dd hh:mm:ss")]),n._v(" "),t("li",[n._v("datetime :")]),n._v(" "),t("li",[n._v("timestamp :")]),n._v(" "),t("li",[n._v("varchar :")])])]),n._v(" "),t("li",[n._v("创建表\n"),t("ul",[t("li",[n._v("create table student(\nid int,\nname varchar(32),\nage int,\nscore double(4,1),\nbirthday date,\ninsert_time timestamp\n)engine=MyISAM DEFAULT CHARSET=utf8;")])])])])])])]),n._v(" "),t("li",[t("p",[n._v("R retrieve : 查询")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("查询表")]),n._v(" "),t("ul",[t("li",[n._v("show tables;")])])]),n._v(" "),t("li",[t("p",[n._v("查询表结构")]),n._v(" "),t("ul",[t("li",[n._v("desc 表名;")])])])])]),n._v(" "),t("li",[t("p",[n._v("U update : 修改")]),n._v(" "),t("ul",[t("li",[n._v("修改表名\n"),t("ul",[t("li",[n._v("alter table 表名 rename to 新表名;")])])]),n._v(" "),t("li",[n._v("添加列\n"),t("ul",[t("li",[n._v("alter table 表名 add 列名 数据类型;")])])]),n._v(" "),t("li",[n._v("修改列名称 类型\n"),t("ul",[t("li",[n._v("alter table 表名 change 列名 新列名 新数据类型")]),n._v(" "),t("li",[n._v("alter table 表名 drop 列名")])])])])]),n._v(" "),t("li",[t("p",[n._v("D delete : 删除")]),n._v(" "),t("ul",[t("li",[n._v("删除数据库\n"),t("ul",[t("li",[n._v("drop table if exists 表名;")])])])])])])])])]),n._v(" "),t("li",[t("p",[n._v("DML : 增删改表数据")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("添加数据")]),n._v(" "),t("ul",[t("li",[n._v("insert into 表名(列名1，列名2...) value(值1，值2...);")]),n._v(" "),t("li",[n._v("除了数字类型，其他类型都需要引号修饰")])])]),n._v(" "),t("li",[t("p",[n._v("删除数据")]),n._v(" "),t("ul",[t("li",[n._v("delete from 表名 where 条件")])])]),n._v(" "),t("li",[t("p",[n._v("修改数据")]),n._v(" "),t("ul",[t("li",[n._v("update 表名 set 列名1 = 值1, 列名2 = 值2,... [where 条件];")])])])])]),n._v(" "),t("li",[t("p",[n._v("DQL : 查询语句")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("排序语法")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("order by")])]),n._v(" "),t("li",[t("p",[n._v("排序方式")]),n._v(" "),t("ul",[t("li",[n._v("升序：asc")]),n._v(" "),t("li",[n._v("降序：desc")])])])])]),n._v(" "),t("li",[t("p",[n._v("聚合函数 排除为null的个数")]),n._v(" "),t("ol",[t("li",[n._v("count\n"),t("ul",[t("li",[n._v("select count(name) from student;")])])]),n._v(" "),t("li",[n._v("max\n"),t("ul",[t("li",[n._v("select max(age) from student;")])])]),n._v(" "),t("li",[n._v("min\n"),t("ul",[t("li",[n._v("select min(age) from student;")])])]),n._v(" "),t("li",[n._v("sum\n"),t("ul",[t("li",[n._v("select sum(age) from student;")])])]),n._v(" "),t("li",[n._v("avg\n"),t("ul",[t("li",[n._v("select avg(age) from student;")])])])])]),n._v(" "),t("li",[t("p",[n._v("分组查询\n1.\n2.\n3.")])])])])]),n._v(" "),t("h1",{attrs:{id:"约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#约束"}},[n._v("#")]),n._v(" 约束")]),n._v(" "),t("ul",[t("li",[n._v("分类\n"),t("ul",[t("li",[t("p",[n._v("主键约束：primary key")]),n._v(" "),t("ol",[t("li",[t("p",[n._v("注意：")]),n._v(" "),t("ol",[t("li",[n._v("含义：非空且唯一")]),n._v(" "),t("li",[n._v("一张表只能有一个字段为主键")]),n._v(" "),t("li",[n._v("主键就是表中记录的唯一标识")])])]),n._v(" "),t("li",[t("p",[n._v("在创建表时，添加主键约束\ncreate table stu(\nid int primary key,-- 给id添加主键约束\nname varchar(20)\n);")])]),n._v(" "),t("li",[t("p",[n._v("删除主键\n-- 错误 alter table stu modify id int ;\nALTER TABLE stu DROP PRIMARY KEY;")])]),n._v(" "),t("li",[t("p",[n._v("创建完表后，添加主键\nALTER TABLE stu MODIFY id INT PRIMARY KEY;")])]),n._v(" "),t("li",[t("p",[n._v("自动增长：")]),n._v(" "),t("ol",[t("li",[t("p",[n._v("概念：如果某一列是数值类型的，使用 auto_increment 可以来完成值得自动增长")])]),n._v(" "),t("li",[t("p",[n._v("在创建表时，添加主键约束，并且完成主键自增长\ncreate table stu(\nid int primary key auto_increment,-- 给id添加主键约束\nname varchar(20)\n);")])])])])])]),n._v(" "),t("li",[t("p",[n._v("非空约束：not null1")]),n._v(" "),t("ol",[t("li",[t("p",[n._v("创建表时添加约束\nCREATE TABLE stu(\nid INT,\nNAME VARCHAR(20) NOT NULL -- name为非空\n);")])]),n._v(" "),t("li",[t("p",[n._v("创建表完后，添加非空约束\nALTER TABLE stu MODIFY NAME VARCHAR(20) NOT NULL;")])]),n._v(" "),t("li",[t("p",[n._v("删除name的非空约束\nALTER TABLE stu MODIFY NAME VARCHAR(20);")])])])]),n._v(" "),t("li",[t("p",[n._v("唯一约束：unique")])]),n._v(" "),t("li",[t("p",[n._v("外键约束：foreign key,让表于表产生关系，从而保证数据的正确性。")]),n._v(" "),t("ol",[t("li",[t("p",[n._v("在创建表时，可以添加外键")]),n._v(" "),t("ul",[t("li",[n._v("语法：\ncreate table 表名(\n....\n外键列\nconstraint 外键名称 foreign key (外键列名称) references 主表名称(主表列名称)\n);")])])]),n._v(" "),t("li",[t("p",[n._v("删除外键\nALTER TABLE 表名 DROP FOREIGN KEY 外键名称;")])]),n._v(" "),t("li",[t("p",[n._v("创建表之后，添加外键\nALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名称) REFERENCES 主表名称(主表列名称);")])])])])])])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("create table tab_category(\n\tcid int primary key AUTO_INCREMENT,\n\tcname varchar(100) not null unique\n);\n\ncreate table tab_route(\n\trid int primary key auto_increment,\n\trname varchar (100) not null unique,\n\tprice double,\n\trdate date,\n\tcid int,\n\tforeign key (cid) references tab_category(cid)\n);\ncreate table tab_user(\n\tuid int primary key auto_increment,\n\tusername varchar(100) unique not null,\n\tPASSWORD varchar(20) not null,\n\tname varchar(100),\n\tbirthday date,\n\tsex char(1) default '男',\n\ttelephone varchar(11),\n\temail varchar(100)\n);\n\ncreate table tab_favorite(\n\trid int,\n\tdate datetime,\n\tuid int,\n\tprimary key(rid,uid),\n\tforeign key (rid) references tab_route (rid),\n\tforeign key (uid) references tab_user (uid)\n);\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br"),t("span",{staticClass:"line-number"},[n._v("25")]),t("br"),t("span",{staticClass:"line-number"},[n._v("26")]),t("br"),t("span",{staticClass:"line-number"},[n._v("27")]),t("br"),t("span",{staticClass:"line-number"},[n._v("28")]),t("br"),t("span",{staticClass:"line-number"},[n._v("29")]),t("br"),t("span",{staticClass:"line-number"},[n._v("30")]),t("br"),t("span",{staticClass:"line-number"},[n._v("31")]),t("br"),t("span",{staticClass:"line-number"},[n._v("32")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[n._v("提示")]),n._v(" "),t("p",[n._v("练习一下")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("CREATE TABLE dept(\n\t\t\tid INT PRIMARY KEY AUTO_INCREMENT,\n\t\t\tNAME VARCHAR(20)\n\t\t);\n\t\tINSERT INTO dept (NAME) VALUES ('开发部'),('市场部'),('财务部');\n\t\t# 创建员工表\n\t\tCREATE TABLE emp (\n\t\t\tid INT PRIMARY KEY AUTO_INCREMENT,\n\t\t\tNAME VARCHAR(10),\n\t\t\tgender CHAR(1), -- 性别\n\t\t\tsalary DOUBLE, -- 工资\n\t\t\tjoin_date DATE, -- 入职日期\n\t\t\tdept_id INT,\n\t\t\tFOREIGN KEY (dept_id) REFERENCES dept(id) -- 外键，关联部门表(部门表的主键)\n\t\t);\n\t\tINSERT INTO emp(NAME,gender,salary,join_date,dept_id) VALUES('孙悟空','男',7200,'2013-02-24',1);\n\t\tINSERT INTO emp(NAME,gender,salary,join_date,dept_id) VALUES('猪八戒','男',3600,'2010-12-02',2);\n\t\tINSERT INTO emp(NAME,gender,salary,join_date,dept_id) VALUES('唐僧','男',9000,'2008-08-08',2);\n\t\tINSERT INTO emp(NAME,gender,salary,join_date,dept_id) VALUES('白骨精','女',5000,'2015-10-07',3);\n\t\tINSERT INTO emp(NAME,gender,salary,join_date,dept_id) VALUES('蜘蛛精','女',4500,'2011-03-14',1);\n\n        查询员工表的名称，性别。部门表的名称\n        - SELECT emp.name,gender,dept.name FROM emp,dept WHERE emp.dept_id = dept.id;\n\n        \n\t\t- SELECT * FROM emp INNER JOIN dept ON emp.`dept_id` = dept.`id`;\t\n\n\t\t- SELECT * FROM emp JOIN dept ON emp.`dept_id` = dept.`id`;\t\n\n        - SELECT t1.*,t2.`name` FROM emp t1 LEFT JOIN dept t2 ON t1.`dept_id` = t2.`id`;\n\n        - SELECT * FROM dept t2 RIGHT JOIN emp t1 ON t1.`dept_id` = t2.`id`;\n\n        - SELECT * FROM emp t1 RIGHT JOIN dept t2 ON t1.`dept_id` = t2.`id`;\n\n        - select * from emp where emp.salary < (SELECT AVG(salary) from emp); 小于平均工资的人\n\n        -SELECT * FROM dept t1 ,(SELECT * FROM emp WHERE emp.`join_date` > '2011-11-11') t2 WHERE t1.id = t2.dept_id;\n\n        - SELECT * FROM emp t1,dept t2 WHERE t1.`dept_id` = t2.`id` AND t1.`join_date` >  '2011-11-11';\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br"),t("span",{staticClass:"line-number"},[n._v("25")]),t("br"),t("span",{staticClass:"line-number"},[n._v("26")]),t("br"),t("span",{staticClass:"line-number"},[n._v("27")]),t("br"),t("span",{staticClass:"line-number"},[n._v("28")]),t("br"),t("span",{staticClass:"line-number"},[n._v("29")]),t("br"),t("span",{staticClass:"line-number"},[n._v("30")]),t("br"),t("span",{staticClass:"line-number"},[n._v("31")]),t("br"),t("span",{staticClass:"line-number"},[n._v("32")]),t("br"),t("span",{staticClass:"line-number"},[n._v("33")]),t("br"),t("span",{staticClass:"line-number"},[n._v("34")]),t("br"),t("span",{staticClass:"line-number"},[n._v("35")]),t("br"),t("span",{staticClass:"line-number"},[n._v("36")]),t("br"),t("span",{staticClass:"line-number"},[n._v("37")]),t("br"),t("span",{staticClass:"line-number"},[n._v("38")]),t("br"),t("span",{staticClass:"line-number"},[n._v("39")]),t("br"),t("span",{staticClass:"line-number"},[n._v("40")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("* 多表查询练习\n-- 部门表\nCREATE TABLE dept (\n\tid INT PRIMARY KEY PRIMARY KEY, -- 部门id\n\tdname VARCHAR(50), -- 部门名称\n\tloc VARCHAR(50) -- 部门所在地\n\t);\n\t\t\t\t\n-- 添加4个部门\nINSERT INTO dept(id,dname,loc) VALUES \n\t(10,'教研部','北京'),\n\t(20,'学工部','上海'),\n\t(30,'销售部','广州'),\n\t(40,'财务部','深圳');\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n-- 职务表，职务名称，职务描述\nCREATE TABLE job (\n\tid INT PRIMARY KEY,\n\tjname VARCHAR(20),\n\tdescription VARCHAR(50)\n\t);\n\t\t\t\t\n-- 添加4个职务\nINSERT INTO job (id, jname, description) VALUES\n\t(1, '董事长', '管理整个公司，接单'),\n\t(2, '经理', '管理部门员工'),\n\t(3, '销售员', '向客人推销产品'),\n\t(4, '文员', '使用办公软件');\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n-- 员工表\nCREATE TABLE emp (\n\tid INT PRIMARY KEY, -- 员工id\n\tename VARCHAR(50), -- 员工姓名\n\tjob_id INT, -- 职务id\n\tmgr INT , -- 上级领导\n    joindate DATE, -- 入职日期\n    salary DECIMAL(7,2), -- 工资\n    bonus DECIMAL(7,2), -- 奖金\n\tdept_id INT, -- 所在部门编号\n\tCONSTRAINT emp_jobid_ref_job_id_fk FOREIGN KEY (job_id) REFERENCES job (id),\n\tCONSTRAINT emp_deptid_ref_dept_id_fk FOREIGN KEY (dept_id) REFERENCES dept (id)\n\t);\n\t\t\t\t\n-- 添加员工\nINSERT INTO emp(id,ename,job_id,mgr,joindate,salary,bonus,dept_id) VALUES \n\t(1001,'孙悟空',4,1004,'2000-12-17','8000.00',NULL,20),\n\t(1002,'卢俊义',3,1006,'2001-02-20','16000.00','3000.00',30),\n\t(1003,'林冲',3,1006,'2001-02-22','12500.00','5000.00',30),\n\t(1004,'唐僧',2,1009,'2001-04-02','29750.00',NULL,20),\n\t(1005,'李逵',4,1006,'2001-09-28','12500.00','14000.00',30),\n\t(1006,'宋江',2,1009,'2001-05-01','28500.00',NULL,30),\n\t(1007,'刘备',2,1009,'2001-09-01','24500.00',NULL,10),\n\t(1008,'猪八戒',4,1004,'2007-04-19','30000.00',NULL,20),\n\t(1009,'罗贯中',1,NULL,'2001-11-17','50000.00',NULL,10),\n\t(1010,'吴用',3,1006,'2001-09-08','15000.00','0.00',30),\n\t(1011,'沙僧',4,1004,'2007-05-23','11000.00',NULL,20),\n\t(1012,'李逵',4,1006,'2001-12-03','9500.00',NULL,30),\n\t(1013,'小白龙',4,1004,'2001-12-03','30000.00',NULL,20),\n\t(1014,'关羽',4,1007,'2002-01-23','13000.00',NULL,10);\n\t\t\t\t\n\t\t\t\t\n-- 工资等级表\nCREATE TABLE salarygrade (\n\tgrade INT PRIMARY KEY,   -- 级别\n\tlosalary INT,  -- 最低工资\n\thisalary INT -- 最高工资\n);\n\t\t\t\t\n-- 添加5个工资等级\nINSERT INTO salarygrade(grade,losalary,hisalary) VALUES \n\t(1,7000,12000),\n\t(2,12010,14000),\n\t(3,14010,20000),\n\t(4,20010,30000),\n\t(5,30010,99990);\n\t\t\t\t\n-- 需求：\n-- 1.查询所有员工信息。查询员工编号，员工姓名，工资，职务名称，职务描述\n/*\n\t分析: \n\t\t1. 员工编号, 员工姓名, 工资. 需要查询emp表\n\t\t2. 职务名称, 职务描述.需要查询job表\n\t\t3. 查询条件: emp.job_id = job.id\n*/\nSELECT\n\tt1.`id`, \n\tt1.`ename`, \n\tt1.`salary`, \n\tt2.`jname`, \n\tt2.`description`\nFROM\n\temp t1, job t2\nWHERE\n\tt1.`job_id` = t2.`id`;\n\n-- 2.查询员工编号，员工姓名，工资，职务名称，职务描述，部门名称，部门位置\n/*\n\t分析:\n\t\t1. 员工编号, 员工姓名, 工资. 需要查询emp表\n\t\t2. 职务名称, 职务描述.需要查询job表\n\t\t3. 部门名称, 部门位置.需要查询dept表\n\t\t4. 条件:emp.job_id = job.id AND emp.dept_id = dept.id\n*/\nSELECT\n\tt1.`id`, \n\tt1.`ename`, \n\tt1.`salary`, \n\tt2.`jname`, \n\tt2.`description`,\n\tt3.`dname`,\n\tt3.`loc`\nFROM\n\temp t1, job t2, dept t3\nWHERE\n\tt1.`job_id` = t2.`id` AND t1.`dept_id` = t3.`id`;\n   \n-- 3.查询员工姓名，工资，工资等级\n/*\n\t分析:\n\t\t1. 员工姓名, 工资. 查询emp表\n\t\t2. 工资等级. 查询salarygrade表\n\t\t3. 条件: emp.salary >= salarygrade.losalary AND emp.salary <= salarygrade.hisalary\n\t\t\t或者 emp.salary BETWEEN salarygrade.losalary AND salarygrade.hisalary\n*/\nSELECT\n\tt1.`ename`,\n\tt1.`salary`,\n\tt2.`grade`\nFROM\n\temp t1, salarygrade t2\nWHERE\n\tt1.`salary` BETWEEN t2.`losalary` AND t2.`hisalary`;\n\n-- 4.查询员工姓名，工资，职务名称，职务描述，部门名称，部门位置，工资等级\n/*\n\t分析:\n\t\t1. 需要查询4个表\n\t\t3. 条件: \n\t\t\temp.job_id = job.id\t员工和职位的关联\n\t\t\tAND \n\t\t\temp.dept_id = dept.id\t员工和部门的关联\n\t\t\temp.salary BETWEEN salarygrade.losalary AND salarygrade.hisalary 员工工资和工资等级的关联\n\t\t\t\n*/\nSELECT \n\tt1.`ename`,\n\tt1.`salary`,\n\tt2.jname,\n\tt2.description,\n\tt3.`dname`,\n\tt3.`loc`,\n\tt4.`grade`\n\t\nFROM\n\temp t1, job t2, dept t3, salarygrade t4\nWHERE\n\tt1.`job_id` = t2.`id`\n\tAND\n\tt1.`dept_id` = t3.`id`\n\tAND\n\tt1.`salary` BETWEEN t4.`losalary` AND t4.`hisalary`;\n\n-- 5.查询出部门编号、部门名称、部门位置、部门人数\n/*\n\t分析:\n\t\t1. 部门编号, 部门名称, 部门位置. 需要查询dept表\n\t\t2. 部门人数. 需要查询emp表\n\t\t3. 使用分组查询. 按照emp.dept_id完成分组. 再查询分完组后的人数 count(id)\n\t\t4. 使用子查询将第3步的查询结果和dept进行关联查询\n*/\nSELECT\n\tt1.`id`,\n\tt1.`dname`,\n\tt1.`loc`,\n\tt2.totalNum\nFROM\n\tdept t1,\n\t(\n\t\tSELECT \n\t\t\tdept_id, COUNT(dept_id) totalNum\n\t\tFROM\n\t\t\temp\n\t\tGROUP BY\n\t\t\tdept_id\n\t) t2\n\nWHERE\n\tt1.`id` = t2.dept_id;\n\n\t\n \n-- 6.查询所有员工的姓名及其直接上级的姓名,没有领导的员工也需要查询\n/*\n\t分析:\n\t\t1. 姓名 emp, 上级姓名 emp\n\t\t\t- emp表的id和mgr是自连接\n\t\t2. 条件 emp.id = emp.mgr\n\t\t3. 查询左表的所有数据和交集数据\n\t\t\t- 使用左外连接查询\n*/\n\n/*\n-- 查询的是员工和员工的上级\nselect\n\tt1.`ename`,\n\tt2.`id`,\n\tt2.`ename`\nfrom\n\temp t1, emp t2\nwhere\n\tt1.`mgr` = t2.`id`\n*/\n\nSELECT\n\tt1.`ename`,\n\tt2.`id`,\n\tt2.`ename`\nFROM \n\temp t1\nLEFT JOIN\n\temp t2\nON\n\tt1.`mgr` = t2.`id`;\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br"),t("span",{staticClass:"line-number"},[n._v("25")]),t("br"),t("span",{staticClass:"line-number"},[n._v("26")]),t("br"),t("span",{staticClass:"line-number"},[n._v("27")]),t("br"),t("span",{staticClass:"line-number"},[n._v("28")]),t("br"),t("span",{staticClass:"line-number"},[n._v("29")]),t("br"),t("span",{staticClass:"line-number"},[n._v("30")]),t("br"),t("span",{staticClass:"line-number"},[n._v("31")]),t("br"),t("span",{staticClass:"line-number"},[n._v("32")]),t("br"),t("span",{staticClass:"line-number"},[n._v("33")]),t("br"),t("span",{staticClass:"line-number"},[n._v("34")]),t("br"),t("span",{staticClass:"line-number"},[n._v("35")]),t("br"),t("span",{staticClass:"line-number"},[n._v("36")]),t("br"),t("span",{staticClass:"line-number"},[n._v("37")]),t("br"),t("span",{staticClass:"line-number"},[n._v("38")]),t("br"),t("span",{staticClass:"line-number"},[n._v("39")]),t("br"),t("span",{staticClass:"line-number"},[n._v("40")]),t("br"),t("span",{staticClass:"line-number"},[n._v("41")]),t("br"),t("span",{staticClass:"line-number"},[n._v("42")]),t("br"),t("span",{staticClass:"line-number"},[n._v("43")]),t("br"),t("span",{staticClass:"line-number"},[n._v("44")]),t("br"),t("span",{staticClass:"line-number"},[n._v("45")]),t("br"),t("span",{staticClass:"line-number"},[n._v("46")]),t("br"),t("span",{staticClass:"line-number"},[n._v("47")]),t("br"),t("span",{staticClass:"line-number"},[n._v("48")]),t("br"),t("span",{staticClass:"line-number"},[n._v("49")]),t("br"),t("span",{staticClass:"line-number"},[n._v("50")]),t("br"),t("span",{staticClass:"line-number"},[n._v("51")]),t("br"),t("span",{staticClass:"line-number"},[n._v("52")]),t("br"),t("span",{staticClass:"line-number"},[n._v("53")]),t("br"),t("span",{staticClass:"line-number"},[n._v("54")]),t("br"),t("span",{staticClass:"line-number"},[n._v("55")]),t("br"),t("span",{staticClass:"line-number"},[n._v("56")]),t("br"),t("span",{staticClass:"line-number"},[n._v("57")]),t("br"),t("span",{staticClass:"line-number"},[n._v("58")]),t("br"),t("span",{staticClass:"line-number"},[n._v("59")]),t("br"),t("span",{staticClass:"line-number"},[n._v("60")]),t("br"),t("span",{staticClass:"line-number"},[n._v("61")]),t("br"),t("span",{staticClass:"line-number"},[n._v("62")]),t("br"),t("span",{staticClass:"line-number"},[n._v("63")]),t("br"),t("span",{staticClass:"line-number"},[n._v("64")]),t("br"),t("span",{staticClass:"line-number"},[n._v("65")]),t("br"),t("span",{staticClass:"line-number"},[n._v("66")]),t("br"),t("span",{staticClass:"line-number"},[n._v("67")]),t("br"),t("span",{staticClass:"line-number"},[n._v("68")]),t("br"),t("span",{staticClass:"line-number"},[n._v("69")]),t("br"),t("span",{staticClass:"line-number"},[n._v("70")]),t("br"),t("span",{staticClass:"line-number"},[n._v("71")]),t("br"),t("span",{staticClass:"line-number"},[n._v("72")]),t("br"),t("span",{staticClass:"line-number"},[n._v("73")]),t("br"),t("span",{staticClass:"line-number"},[n._v("74")]),t("br"),t("span",{staticClass:"line-number"},[n._v("75")]),t("br"),t("span",{staticClass:"line-number"},[n._v("76")]),t("br"),t("span",{staticClass:"line-number"},[n._v("77")]),t("br"),t("span",{staticClass:"line-number"},[n._v("78")]),t("br"),t("span",{staticClass:"line-number"},[n._v("79")]),t("br"),t("span",{staticClass:"line-number"},[n._v("80")]),t("br"),t("span",{staticClass:"line-number"},[n._v("81")]),t("br"),t("span",{staticClass:"line-number"},[n._v("82")]),t("br"),t("span",{staticClass:"line-number"},[n._v("83")]),t("br"),t("span",{staticClass:"line-number"},[n._v("84")]),t("br"),t("span",{staticClass:"line-number"},[n._v("85")]),t("br"),t("span",{staticClass:"line-number"},[n._v("86")]),t("br"),t("span",{staticClass:"line-number"},[n._v("87")]),t("br"),t("span",{staticClass:"line-number"},[n._v("88")]),t("br"),t("span",{staticClass:"line-number"},[n._v("89")]),t("br"),t("span",{staticClass:"line-number"},[n._v("90")]),t("br"),t("span",{staticClass:"line-number"},[n._v("91")]),t("br"),t("span",{staticClass:"line-number"},[n._v("92")]),t("br"),t("span",{staticClass:"line-number"},[n._v("93")]),t("br"),t("span",{staticClass:"line-number"},[n._v("94")]),t("br"),t("span",{staticClass:"line-number"},[n._v("95")]),t("br"),t("span",{staticClass:"line-number"},[n._v("96")]),t("br"),t("span",{staticClass:"line-number"},[n._v("97")]),t("br"),t("span",{staticClass:"line-number"},[n._v("98")]),t("br"),t("span",{staticClass:"line-number"},[n._v("99")]),t("br"),t("span",{staticClass:"line-number"},[n._v("100")]),t("br"),t("span",{staticClass:"line-number"},[n._v("101")]),t("br"),t("span",{staticClass:"line-number"},[n._v("102")]),t("br"),t("span",{staticClass:"line-number"},[n._v("103")]),t("br"),t("span",{staticClass:"line-number"},[n._v("104")]),t("br"),t("span",{staticClass:"line-number"},[n._v("105")]),t("br"),t("span",{staticClass:"line-number"},[n._v("106")]),t("br"),t("span",{staticClass:"line-number"},[n._v("107")]),t("br"),t("span",{staticClass:"line-number"},[n._v("108")]),t("br"),t("span",{staticClass:"line-number"},[n._v("109")]),t("br"),t("span",{staticClass:"line-number"},[n._v("110")]),t("br"),t("span",{staticClass:"line-number"},[n._v("111")]),t("br"),t("span",{staticClass:"line-number"},[n._v("112")]),t("br"),t("span",{staticClass:"line-number"},[n._v("113")]),t("br"),t("span",{staticClass:"line-number"},[n._v("114")]),t("br"),t("span",{staticClass:"line-number"},[n._v("115")]),t("br"),t("span",{staticClass:"line-number"},[n._v("116")]),t("br"),t("span",{staticClass:"line-number"},[n._v("117")]),t("br"),t("span",{staticClass:"line-number"},[n._v("118")]),t("br"),t("span",{staticClass:"line-number"},[n._v("119")]),t("br"),t("span",{staticClass:"line-number"},[n._v("120")]),t("br"),t("span",{staticClass:"line-number"},[n._v("121")]),t("br"),t("span",{staticClass:"line-number"},[n._v("122")]),t("br"),t("span",{staticClass:"line-number"},[n._v("123")]),t("br"),t("span",{staticClass:"line-number"},[n._v("124")]),t("br"),t("span",{staticClass:"line-number"},[n._v("125")]),t("br"),t("span",{staticClass:"line-number"},[n._v("126")]),t("br"),t("span",{staticClass:"line-number"},[n._v("127")]),t("br"),t("span",{staticClass:"line-number"},[n._v("128")]),t("br"),t("span",{staticClass:"line-number"},[n._v("129")]),t("br"),t("span",{staticClass:"line-number"},[n._v("130")]),t("br"),t("span",{staticClass:"line-number"},[n._v("131")]),t("br"),t("span",{staticClass:"line-number"},[n._v("132")]),t("br"),t("span",{staticClass:"line-number"},[n._v("133")]),t("br"),t("span",{staticClass:"line-number"},[n._v("134")]),t("br"),t("span",{staticClass:"line-number"},[n._v("135")]),t("br"),t("span",{staticClass:"line-number"},[n._v("136")]),t("br"),t("span",{staticClass:"line-number"},[n._v("137")]),t("br"),t("span",{staticClass:"line-number"},[n._v("138")]),t("br"),t("span",{staticClass:"line-number"},[n._v("139")]),t("br"),t("span",{staticClass:"line-number"},[n._v("140")]),t("br"),t("span",{staticClass:"line-number"},[n._v("141")]),t("br"),t("span",{staticClass:"line-number"},[n._v("142")]),t("br"),t("span",{staticClass:"line-number"},[n._v("143")]),t("br"),t("span",{staticClass:"line-number"},[n._v("144")]),t("br"),t("span",{staticClass:"line-number"},[n._v("145")]),t("br"),t("span",{staticClass:"line-number"},[n._v("146")]),t("br"),t("span",{staticClass:"line-number"},[n._v("147")]),t("br"),t("span",{staticClass:"line-number"},[n._v("148")]),t("br"),t("span",{staticClass:"line-number"},[n._v("149")]),t("br"),t("span",{staticClass:"line-number"},[n._v("150")]),t("br"),t("span",{staticClass:"line-number"},[n._v("151")]),t("br"),t("span",{staticClass:"line-number"},[n._v("152")]),t("br"),t("span",{staticClass:"line-number"},[n._v("153")]),t("br"),t("span",{staticClass:"line-number"},[n._v("154")]),t("br"),t("span",{staticClass:"line-number"},[n._v("155")]),t("br"),t("span",{staticClass:"line-number"},[n._v("156")]),t("br"),t("span",{staticClass:"line-number"},[n._v("157")]),t("br"),t("span",{staticClass:"line-number"},[n._v("158")]),t("br"),t("span",{staticClass:"line-number"},[n._v("159")]),t("br"),t("span",{staticClass:"line-number"},[n._v("160")]),t("br"),t("span",{staticClass:"line-number"},[n._v("161")]),t("br"),t("span",{staticClass:"line-number"},[n._v("162")]),t("br"),t("span",{staticClass:"line-number"},[n._v("163")]),t("br"),t("span",{staticClass:"line-number"},[n._v("164")]),t("br"),t("span",{staticClass:"line-number"},[n._v("165")]),t("br"),t("span",{staticClass:"line-number"},[n._v("166")]),t("br"),t("span",{staticClass:"line-number"},[n._v("167")]),t("br"),t("span",{staticClass:"line-number"},[n._v("168")]),t("br"),t("span",{staticClass:"line-number"},[n._v("169")]),t("br"),t("span",{staticClass:"line-number"},[n._v("170")]),t("br"),t("span",{staticClass:"line-number"},[n._v("171")]),t("br"),t("span",{staticClass:"line-number"},[n._v("172")]),t("br"),t("span",{staticClass:"line-number"},[n._v("173")]),t("br"),t("span",{staticClass:"line-number"},[n._v("174")]),t("br"),t("span",{staticClass:"line-number"},[n._v("175")]),t("br"),t("span",{staticClass:"line-number"},[n._v("176")]),t("br"),t("span",{staticClass:"line-number"},[n._v("177")]),t("br"),t("span",{staticClass:"line-number"},[n._v("178")]),t("br"),t("span",{staticClass:"line-number"},[n._v("179")]),t("br"),t("span",{staticClass:"line-number"},[n._v("180")]),t("br"),t("span",{staticClass:"line-number"},[n._v("181")]),t("br"),t("span",{staticClass:"line-number"},[n._v("182")]),t("br"),t("span",{staticClass:"line-number"},[n._v("183")]),t("br"),t("span",{staticClass:"line-number"},[n._v("184")]),t("br"),t("span",{staticClass:"line-number"},[n._v("185")]),t("br"),t("span",{staticClass:"line-number"},[n._v("186")]),t("br"),t("span",{staticClass:"line-number"},[n._v("187")]),t("br"),t("span",{staticClass:"line-number"},[n._v("188")]),t("br"),t("span",{staticClass:"line-number"},[n._v("189")]),t("br"),t("span",{staticClass:"line-number"},[n._v("190")]),t("br"),t("span",{staticClass:"line-number"},[n._v("191")]),t("br"),t("span",{staticClass:"line-number"},[n._v("192")]),t("br"),t("span",{staticClass:"line-number"},[n._v("193")]),t("br"),t("span",{staticClass:"line-number"},[n._v("194")]),t("br"),t("span",{staticClass:"line-number"},[n._v("195")]),t("br"),t("span",{staticClass:"line-number"},[n._v("196")]),t("br"),t("span",{staticClass:"line-number"},[n._v("197")]),t("br"),t("span",{staticClass:"line-number"},[n._v("198")]),t("br"),t("span",{staticClass:"line-number"},[n._v("199")]),t("br"),t("span",{staticClass:"line-number"},[n._v("200")]),t("br"),t("span",{staticClass:"line-number"},[n._v("201")]),t("br"),t("span",{staticClass:"line-number"},[n._v("202")]),t("br"),t("span",{staticClass:"line-number"},[n._v("203")]),t("br"),t("span",{staticClass:"line-number"},[n._v("204")]),t("br"),t("span",{staticClass:"line-number"},[n._v("205")]),t("br"),t("span",{staticClass:"line-number"},[n._v("206")]),t("br"),t("span",{staticClass:"line-number"},[n._v("207")]),t("br"),t("span",{staticClass:"line-number"},[n._v("208")]),t("br"),t("span",{staticClass:"line-number"},[n._v("209")]),t("br"),t("span",{staticClass:"line-number"},[n._v("210")]),t("br"),t("span",{staticClass:"line-number"},[n._v("211")]),t("br"),t("span",{staticClass:"line-number"},[n._v("212")]),t("br"),t("span",{staticClass:"line-number"},[n._v("213")]),t("br"),t("span",{staticClass:"line-number"},[n._v("214")]),t("br"),t("span",{staticClass:"line-number"},[n._v("215")]),t("br"),t("span",{staticClass:"line-number"},[n._v("216")]),t("br"),t("span",{staticClass:"line-number"},[n._v("217")]),t("br"),t("span",{staticClass:"line-number"},[n._v("218")]),t("br"),t("span",{staticClass:"line-number"},[n._v("219")]),t("br"),t("span",{staticClass:"line-number"},[n._v("220")]),t("br"),t("span",{staticClass:"line-number"},[n._v("221")]),t("br"),t("span",{staticClass:"line-number"},[n._v("222")]),t("br"),t("span",{staticClass:"line-number"},[n._v("223")]),t("br"),t("span",{staticClass:"line-number"},[n._v("224")]),t("br"),t("span",{staticClass:"line-number"},[n._v("225")]),t("br"),t("span",{staticClass:"line-number"},[n._v("226")]),t("br"),t("span",{staticClass:"line-number"},[n._v("227")]),t("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);